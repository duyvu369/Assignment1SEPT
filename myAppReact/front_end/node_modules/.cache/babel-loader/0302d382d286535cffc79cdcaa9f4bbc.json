{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\VUTRANG COMPUTER\\\\Desktop\\\\onlineHospitalApp\\\\Assignment1SEPT\\\\myAppReact\\\\front_end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\VUTRANG COMPUTER\\\\Desktop\\\\onlineHospitalApp\\\\Assignment1SEPT\\\\myAppReact\\\\front_end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\VUTRANG COMPUTER\\\\Desktop\\\\onlineHospitalApp\\\\Assignment1SEPT\\\\myAppReact\\\\front_end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\VUTRANG COMPUTER\\\\Desktop\\\\onlineHospitalApp\\\\Assignment1SEPT\\\\myAppReact\\\\front_end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\VUTRANG COMPUTER\\\\Desktop\\\\onlineHospitalApp\\\\Assignment1SEPT\\\\myAppReact\\\\front_end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\VUTRANG COMPUTER\\\\Desktop\\\\onlineHospitalApp\\\\Assignment1SEPT\\\\myAppReact\\\\front_end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\VUTRANG COMPUTER\\\\Desktop\\\\onlineHospitalApp\\\\Assignment1SEPT\\\\myAppReact\\\\front_end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\VUTRANG COMPUTER\\\\Desktop\\\\onlineHospitalApp\\\\Assignment1SEPT\\\\myAppReact\\\\front_end\\\\src\\\\page\\\\Profile.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { Button } from '@material-ui/core';\n\nvar Profile =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Profile, _Component);\n\n  function Profile() {\n    var _this;\n\n    _classCallCheck(this, Profile);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Profile).call(this));\n    _this.state = {\n      user: {},\n      loggedIn: false,\n      token: '',\n      email: \"\",\n      name: \"\",\n      phone: \"\",\n      password: \"\",\n      imgLink: \"\",\n      position: \"\",\n      expertise: \"\",\n      background: \"\",\n      msg: \"\"\n    };\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleDelete = _this.handleDelete.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Profile, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      axios.get('https://us-central1-online-clinic-booking-system.cloudfunctions.net/AyPiAI/status').then(function (res) {\n        _this2.setState({\n          loggedIn: res.data.loggedIn,\n          token: res.data.token\n        });\n\n        axios.get('https://us-central1-online-clinic-booking-system.cloudfunctions.net/AyPiAI/account', {\n          headers: {\n            'Authorization': \"\".concat(_this2.state.token)\n          }\n        }).then(function (res) {\n          _this2.setState({\n            user: res.data.accountInfo,\n            password: res.data.accountInfo.password,\n            expertise: res.data.accountInfo.expertise,\n            imgLink: res.data.accountInfo.imgLink,\n            background: res.data.accountInfo.background,\n            position: res.data.accountInfo.position,\n            phone: res.data.accountInfo.phone\n          });\n        }).catch(function (error) {\n          console.log(error);\n        }).catch(function (error) {\n          console.log(error);\n        });\n      });\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      this.setState(_defineProperty({}, event.target.name, event.target.value));\n    }\n  }, {\n    key: \"handleDelete\",\n    value: function handleDelete(event) {\n      var _this3 = this;\n\n      axios.delete('https://us-central1-online-clinic-booking-system.cloudfunctions.net/AyPiAI/account', {\n        headers: {\n          'Authorization': \"\".concat(this.state.token)\n        }\n      }).then(function (res) {\n        _this3.setState({\n          msg: res.data.message\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n      event.preventDefault();\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(event) {\n      var _this4 = this;\n\n      var password = this.state.password;\n      var phone = this.state.phone;\n      var expertise = this.state.expertise;\n      var background = this.state.background;\n      var imgLink = this.state.imgLink;\n      var position = this.state.position;\n\n      if (position === undefined || position !== \"Doctor\") {\n        axios.put('https://us-central1-online-clinic-booking-system.cloudfunctions.net/AyPiAI/account', {\n          password: password\n        }, {\n          headers: {\n            'Authorization': \"\".concat(this.state.token)\n          }\n        }).then(function (res) {\n          _this4.setState({\n            msg: res.data.message\n          });\n        }).catch(function (error) {\n          console.log(error);\n\n          _this4.setState({\n            msg: \"Something went wrong! please try again!\"\n          });\n        });\n      } else {\n        axios.put('https://us-central1-online-clinic-booking-system.cloudfunctions.net/AyPiAI/account', {\n          password: password,\n          phone: phone,\n          expertise: expertise,\n          background: background,\n          imgLink: imgLink\n        }, {\n          headers: {\n            'Authorization': \"\".concat(this.state.token)\n          }\n        }).then(function (response) {\n          if (response.status === 201) {\n            _this4.setState({\n              msg: \"Updated successfully!\"\n            });\n          } else {\n            console.log(response);\n          }\n        }).catch(function (error) {\n          console.log(error);\n\n          _this4.setState({\n            msg: \"Something went wrong! please try again!\"\n          });\n        });\n      }\n\n      event.preventDefault();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var loggedIn = this.state.loggedIn;\n      var position = this.state.position;\n      var user = this.state.user;\n\n      if (!loggedIn) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 147\n          },\n          __self: this\n        }, React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 147\n          },\n          __self: this\n        }, \"You are required to logged in to use this feature!\"));\n      } else if (loggedIn && Object.keys(user).length == 0) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150\n          },\n          __self: this\n        }, React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150\n          },\n          __self: this\n        }, \"Loading..... please wait!\"));\n      } else if (loggedIn && position === \"Doctor\" && Object.keys(user).length != 0) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152\n          },\n          __self: this\n        }, React.createElement(\"ul\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154\n          },\n          __self: this\n        }, React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 156\n          },\n          __self: this\n        }, \"Personal info:\"), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157\n          },\n          __self: this\n        }), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 158\n          },\n          __self: this\n        }, \"Selfie:\"), \" \", React.createElement(\"img\", {\n          src: user.imgLink,\n          width: \"400px\",\n          height: \"400px\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 158\n          },\n          __self: this\n        }), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 159\n          },\n          __self: this\n        }, \"Email: \", user.email), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160\n          },\n          __self: this\n        }, \"Name: \", user.name), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 161\n          },\n          __self: this\n        }, \"Phone: \", user.phone), React.createElement(\"form\", {\n          onSubmit: this.handleSubmit,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 162\n          },\n          __self: this\n        }, \"Password: \", React.createElement(\"input\", {\n          type: \"text\",\n          name: \"password\",\n          value: this.state.password,\n          onChange: this.handleChange,\n          placeholder: user.password,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 164\n          },\n          __self: this\n        }), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 169\n          },\n          __self: this\n        }), \"Img Link:\", React.createElement(\"input\", {\n          type: \"text\",\n          name: \"imgLink\",\n          value: this.state.imgLink,\n          onChange: this.handleChange,\n          placeholder: user.imgLink,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170\n          },\n          __self: this\n        }), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 175\n          },\n          __self: this\n        }), \"Expertise:\", React.createElement(\"input\", {\n          type: \"text\",\n          name: \"expertise\",\n          value: this.state.expertise,\n          onChange: this.handleChange,\n          placeholder: user.expertise,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 176\n          },\n          __self: this\n        }), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 181\n          },\n          __self: this\n        }), \"Background:\", React.createElement(\"input\", {\n          type: \"text\",\n          name: \"background\",\n          value: this.state.background,\n          onChange: this.handleChange,\n          placeholder: user.background,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182\n          },\n          __self: this\n        }), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 187\n          },\n          __self: this\n        }), React.createElement(\"button\", {\n          type: \"submit\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 188\n          },\n          __self: this\n        }, \"UPDATE\"), React.createElement(Button, {\n          onClick: this.handleDelete,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 189\n          },\n          __self: this\n        }, \"DELETE ACCOUNT\"), React.createElement(\"p\", {\n          className: \"message\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 190\n          },\n          __self: this\n        }, this.state.msg))));\n      } else if (loggedIn && position !== \"Doctor\") {}\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, \"PERSONAL INFO\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, \"Email: \", user.email, \" \"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, \"Name: \", user.name), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }, \"Phone: \", user.phone), React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }), \"Password: \", React.createElement(\"input\", {\n        type: \"text\",\n        name: \"password\",\n        value: this.state.password,\n        onChange: this.handleChange,\n        placeholder: user.password,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }, \"UPDATE\"), React.createElement(Button, {\n        onClick: this.handleDelete,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }, \"DELETE ACCOUNT\"), React.createElement(\"p\", {\n        className: \"message\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }, this.state.msg))));\n    }\n  }]);\n\n  return Profile;\n}(Component);\n\nexport default Profile;","map":{"version":3,"sources":["C:\\Users\\VUTRANG COMPUTER\\Desktop\\onlineHospitalApp\\Assignment1SEPT\\myAppReact\\front_end\\src\\page\\Profile.js"],"names":["React","Component","axios","Button","Profile","state","user","loggedIn","token","email","name","phone","password","imgLink","position","expertise","background","msg","handleSubmit","bind","handleChange","handleDelete","get","then","res","setState","data","headers","accountInfo","catch","error","console","log","event","target","value","delete","message","preventDefault","undefined","put","response","status","Object","keys","length"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport axios from 'axios'\r\nimport { Button } from '@material-ui/core'\r\n\r\nclass Profile extends Component {\r\n    \r\nconstructor(){\r\n    super()\r\n    this.state = {\r\n    user: {},\r\n    loggedIn:false,\r\n    token:'',\r\n    email:\"\",\r\n    name:\"\",\r\n    phone:\"\",\r\n    password:\"\",\r\n    imgLink:\"\",\r\n    position:\"\",\r\n    expertise:\"\",\r\n    background:\"\",\r\n    msg:\"\"\r\n}\r\nthis.handleSubmit = this.handleSubmit.bind(this)\r\nthis.handleChange = this.handleChange.bind(this)\r\nthis.handleDelete = this.handleDelete.bind(this)\r\n}\r\n\r\n    \r\n\r\n\r\ncomponentDidMount(){    \r\n    axios.get('https://us-central1-online-clinic-booking-system.cloudfunctions.net/AyPiAI/status')\r\n    .then(res => {\r\n    this.setState({\r\n        loggedIn:res.data.loggedIn,\r\n        token:res.data.token\r\n    })\r\n    axios.get('https://us-central1-online-clinic-booking-system.cloudfunctions.net/AyPiAI/account',\r\n    {\r\n        headers: {\r\n            'Authorization': `${this.state.token}`}\r\n        })\r\n        .then(res=>{\r\n            this.setState({\r\n                user: res.data.accountInfo,\r\n                password:res.data.accountInfo.password,\r\n                expertise:res.data.accountInfo.expertise,\r\n                imgLink:res.data.accountInfo.imgLink,\r\n                background:res.data.accountInfo.background,\r\n                position:res.data.accountInfo.position,\r\n                phone:res.data.accountInfo.phone\r\n            })\r\n    }\r\n    )\r\n    .catch(error=>{\r\n        console.log(error)\r\n    })\r\n    .catch(error=>{\r\n        console.log(error)\r\n    })\r\n    })\r\n    }   \r\n    handleChange(event) {\r\n    this.setState({\r\n        [event.target.name]: event.target.value\r\n    })}\r\n\r\n    handleDelete(event){\r\n        axios.delete('https://us-central1-online-clinic-booking-system.cloudfunctions.net/AyPiAI/account',{\r\n            headers:{\r\n                'Authorization':`${this.state.token}`\r\n            }\r\n        })\r\n        .then(res=> {\r\n            this.setState({\r\n              msg:res.data.message\r\n            }) \r\n          }\r\n        )\r\n        .catch(error=>{\r\n            console.log(error)\r\n        })\r\n    event.preventDefault()    \r\n    }\r\n    handleSubmit(event) {\r\n        const password = this.state.password\r\n        const phone = this.state.phone\r\n        const expertise = this.state.expertise\r\n        const background = this.state.background\r\n        const imgLink = this.state.imgLink\r\n        const position = this.state.position\r\n        if(position===undefined||position!==\"Doctor\"){\r\n        axios.put('https://us-central1-online-clinic-booking-system.cloudfunctions.net/AyPiAI/account', {\r\n          password: password\r\n        },{\r\n            headers:{\r\n                'Authorization':`${this.state.token}`\r\n            }\r\n        })\r\n          .then(res=> {\r\n              this.setState({\r\n                msg:res.data.message\r\n              }) \r\n            }\r\n          )\r\n          .catch((error) => {\r\n            console.log(error)\r\n            this.setState({\r\n              msg: \"Something went wrong! please try again!\"\r\n            })\r\n          })} else {\r\n            axios.put('https://us-central1-online-clinic-booking-system.cloudfunctions.net/AyPiAI/account', {\r\n                password: password,\r\n                phone:phone,\r\n                expertise:expertise,\r\n                background:background,\r\n                imgLink:imgLink\r\n              },{\r\n                headers:{\r\n                    'Authorization':`${this.state.token}`\r\n                }\r\n            })\r\n                .then(response => {\r\n                  if(response.status===201){\r\n                    this.setState({\r\n                      msg:\"Updated successfully!\"\r\n                    }) \r\n                  }else{\r\n                    \r\n                      console.log(response)}\r\n                  }\r\n                )\r\n                .catch((error) => {\r\n                  console.log(error)\r\n                  this.setState({\r\n                    msg: \"Something went wrong! please try again!\"\r\n                  })\r\n          })}\r\n        event.preventDefault()\r\n      }\r\nrender() {\r\n        \r\n    var loggedIn = this.state.loggedIn\r\n    var position = this.state.position\r\n    var user = this.state.user\r\n    if(!loggedIn){\r\n      return <div><h3>You are required to logged in to use this feature!</h3></div>\r\n    }\r\n    else if(loggedIn &&  Object.keys(user).length==0 ){\r\n        return <div><h3>Loading..... please wait!</h3></div>\r\n    } else if(loggedIn && position ===\"Doctor\" &&Object.keys(user).length!=0) {\r\n        return <div >\r\n        \r\n                <ul>\r\n            \r\n                    <h3>Personal info:</h3>\r\n                    <br></br>\r\n                    <p>Selfie:</p> <img src={user.imgLink} width=\"400px\" height=\"400px\"></img>\r\n                    <p>Email: {user.email}</p>  \r\n                    <p>Name: {user.name}</p>\r\n                    <p>Phone: {user.phone}</p>\r\n                    <form onSubmit={this.handleSubmit} >\r\n                \r\n                    Password: <input type=\"text\"\r\n                            name=\"password\"\r\n                            value={this.state.password}\r\n                            onChange={this.handleChange}\r\n                            placeholder={user.password}/>\r\n                    <br></br>\r\n                    Img Link:<input type=\"text\"\r\n                            name=\"imgLink\"\r\n                            value={this.state.imgLink}\r\n                            onChange={this.handleChange}\r\n                            placeholder={user.imgLink}/>\r\n                    <br></br>\r\n                    Expertise:<input type=\"text\"\r\n                            name=\"expertise\"\r\n                            value={this.state.expertise}\r\n                            onChange={this.handleChange}\r\n                            placeholder={user.expertise}/>\r\n                    <br></br>\r\n                    Background:<input type=\"text\"\r\n                            name=\"background\"\r\n                            value={this.state.background}\r\n                            onChange={this.handleChange}\r\n                            placeholder={user.background}/>\r\n                    <br></br>\r\n                    <button type=\"submit\">UPDATE</button>\r\n                    <Button onClick={this.handleDelete}>DELETE ACCOUNT</Button>\r\n                    <p className=\"message\">{this.state.msg}</p>\r\n                    </form>\r\n\r\n\r\n            \r\n                </ul>\r\n            </div>\r\n    }\r\n    else if (loggedIn && position!==\"Doctor\"){}\r\n        return <div >\r\n            \r\n                <ul>\r\n                \r\n                    <h3>PERSONAL INFO</h3>\r\n                    <p>Email: {user.email} </p>\r\n                    <p>Name: {user.name}</p>\r\n                    <p>Phone: {user.phone}</p>\r\n                    <form onSubmit={this.handleSubmit} > \r\n                    \r\n                    <br></br>\r\n                    Password: <input type=\"text\"\r\n                            name=\"password\"\r\n                            value={this.state.password}\r\n                            onChange={this.handleChange}\r\n                            placeholder={user.password}\r\n                            />\r\n                    <br></br>\r\n                    <button type=\"submit\">UPDATE</button>\r\n                    <Button onClick={this.handleDelete}>DELETE ACCOUNT</Button>\r\n                    <p className=\"message\">{this.state.msg}</p>\r\n                    </form>\r\n                    \r\n                \r\n                </ul>\r\n        </div>\r\n    }\r\n    }\r\n\r\nexport default Profile"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\VUTRANG COMPUTER\\\\Desktop\\\\onlineHospitalApp\\\\Assignment1SEPT\\\\myAppReact\\\\front_end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\VUTRANG COMPUTER\\\\Desktop\\\\onlineHospitalApp\\\\Assignment1SEPT\\\\myAppReact\\\\front_end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\VUTRANG COMPUTER\\\\Desktop\\\\onlineHospitalApp\\\\Assignment1SEPT\\\\myAppReact\\\\front_end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\VUTRANG COMPUTER\\\\Desktop\\\\onlineHospitalApp\\\\Assignment1SEPT\\\\myAppReact\\\\front_end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\VUTRANG COMPUTER\\\\Desktop\\\\onlineHospitalApp\\\\Assignment1SEPT\\\\myAppReact\\\\front_end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import axios from\"axios\";import'../App.css';var Book=/*#__PURE__*/function(_Component){_inherits(Book,_Component);var _super=_createSuper(Book);function Book(props){var _this;_classCallCheck(this,Book);_this=_super.call(this,props);_this.state={time:\"\",service:\"\",msg:'',date:\"\",loggedIn:false,token:\"\"};_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));return _this;}_createClass(Book,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get('https://us-central1-online-clinic-booking-system.cloudfunctions.net/AyPiAI/status').then(function(res){_this2.setState({loggedIn:res.data.loggedIn,token:res.data.token});}).catch(function(error){console.log(error);});}},{key:\"handleChange\",value:function handleChange(event){this.setState({[event.target.name]:event.target.value});}},{key:\"handleSubmit\",value:function handleSubmit(event){var _this3=this;var _this$state=this.state,time=_this$state.time,date=_this$state.date,service=_this$state.service;axios.post('https://us-central1-online-clinic-booking-system.cloudfunctions.net/AyPiAI/Booking',{time:time,date:date,service:service},{headers:{'Authorization':\"\".concat(this.state.token)}}).then(function(response){_this3.setState({msg:response.data.message});}).catch(function(error){console.log(error);_this3.setState({msg:\"Something went wrong! please try again!\"});});event.preventDefault();}},{key:\"render\",value:function render(){var loggedIn=this.state.loggedIn;var token=this.state.token;if(loggedIn&&token==\"\"){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h3\",null,\"Loading..... Please wait\"));}else{return/*#__PURE__*/React.createElement(\"div\",{className:\"wrapper fadeInDown\"},/*#__PURE__*/React.createElement(\"div\",{id:\"formContent\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"active underlineHover\"},\"Booking form \"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"h3\",null,\"Our services:\"),/*#__PURE__*/React.createElement(\"ul\",null,/*#__PURE__*/React.createElement(\"li\",null,\"General and specialty surgical services\"),/*#__PURE__*/React.createElement(\"li\",null,\"X-ray/Radiology services\"),/*#__PURE__*/React.createElement(\"li\",null,\"Physical therapy and rehabilitation services\"),/*#__PURE__*/React.createElement(\"li\",null,\"Home nursing services\"),/*#__PURE__*/React.createElement(\"li\",null,\"Mental health and drug treatment\"),/*#__PURE__*/React.createElement(\"li\",null,\"Laboratory services\"),/*#__PURE__*/React.createElement(\"li\",null,\"Blood services\"),/*#__PURE__*/React.createElement(\"li\",null,\"Short-term hospitalization\"),/*#__PURE__*/React.createElement(\"li\",null,\"Family planning services\"),/*#__PURE__*/React.createElement(\"li\",null,\"Nutritional counselling\")),/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"service\",className:\"fadeInsecond\",placeholder:\"What service are you looking for?\",value:this.state.service,onChange:this.handleChange,required:true}),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"time\",className:\"fadeInthird\",placeholder:\"Time (6:30 to 23:00)\",value:this.state.time,onChange:this.handleChange,required:true}),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"date\",className:\"fadeInfourth\",placeholder:\"Date (MM/DD/YYYY)\",value:this.state.date,onChange:this.handleChange,required:true}),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\"},\"Submit\"),/*#__PURE__*/React.createElement(\"p\",{className:\"message\"},this.state.msg))));}}}]);return Book;}(Component);export default Book;","map":{"version":3,"sources":["C:/Users/VUTRANG COMPUTER/Desktop/onlineHospitalApp/Assignment1SEPT/myAppReact/front_end/src/page/Book.js"],"names":["React","Component","axios","Book","props","state","time","service","msg","date","loggedIn","token","handleSubmit","bind","handleChange","get","then","res","setState","data","catch","error","console","log","event","target","name","value","post","headers","response","message","preventDefault"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport '../App.css'\r\n\r\nclass Book extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    \r\n    this.state = {\r\n      time: \"\",\r\n      service: \"\",\r\n      msg: '',\r\n      date:\"\",\r\n      loggedIn:false,\r\n      token:\"\"\r\n      \r\n    }\r\n\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n  }\r\n\r\n  componentDidMount(){\r\n    axios.get('https://us-central1-online-clinic-booking-system.cloudfunctions.net/AyPiAI/status')\r\n    .then(res => {\r\n        this.setState({\r\n            loggedIn:res.data.loggedIn,\r\n            token:res.data.token\r\n        })\r\n      })\r\n      .catch(error=>{\r\n        console.log(error)\r\n      })}\r\n\r\n  handleChange(event) {\r\n    this.setState({\r\n      [event.target.name]: event.target.value\r\n    });\r\n  }\r\n\r\n  handleSubmit(event) {\r\n    const { time,date, service} = this.state\r\n    axios.post('https://us-central1-online-clinic-booking-system.cloudfunctions.net/AyPiAI/Booking', {\r\n      time:time,\r\n      date:date,\r\n      service:service\r\n    },{\r\n        headers:{\r\n          'Authorization':`${this.state.token}`\r\n        }\r\n      }\r\n    )\r\n    .then(response => {\r\n      this.setState({\r\n        msg:response.data.message\r\n      })\r\n    })\r\n    .catch((error) => {\r\n      console.log(error)\r\n      this.setState({\r\n        msg: \"Something went wrong! please try again!\"\r\n      })\r\n    })\r\n    event.preventDefault();\r\n    }\r\n\r\n  render() {\r\n    var loggedIn = this.state.loggedIn  \r\n    var token = this.state.token\r\n    if (loggedIn && token==\"\"){\r\n      return <div><h3>Loading..... Please wait</h3></div>\r\n    }\r\n    else{\r\n    return (\r\n      <div className=\"wrapper fadeInDown\">\r\n        <div id=\"formContent\">\r\n        <h2 className=\"active underlineHover\">Booking form </h2>\r\n        <br></br>\r\n        <h3>Our services:</h3>\r\n        <ul>\r\n        <li>General and specialty surgical services</li>\r\n        <li>X-ray/Radiology services</li>\r\n        <li>Physical therapy and rehabilitation services</li>\r\n        <li>Home nursing services</li>\r\n        <li>Mental health and drug treatment</li>\r\n        <li>Laboratory services</li>\r\n        <li>Blood services</li>\r\n        <li>Short-term hospitalization</li>\r\n        <li>Family planning services</li>\r\n        <li>Nutritional counselling</li>\r\n        </ul>\r\n        <form onSubmit={this.handleSubmit} >\r\n\r\n          <input\r\n            type=\"text\"\r\n            name=\"service\"\r\n            className =\"fadeInsecond\"\r\n            placeholder=\"What service are you looking for?\"\r\n            value={this.state.service}\r\n            onChange={this.handleChange}  \r\n            required\r\n          />\r\n          \r\n          <input\r\n            type=\"text\"\r\n            name=\"time\"\r\n            className =\"fadeInthird\"\r\n            placeholder=\"Time (6:30 to 23:00)\"\r\n            value={this.state.time}\r\n            onChange={this.handleChange}\r\n            required\r\n          />\r\n\r\n          <input\r\n            type=\"text\"\r\n            name=\"date\"\r\n            className =\"fadeInfourth\"\r\n            placeholder=\"Date (MM/DD/YYYY)\"\r\n            value={this.state.date}\r\n            onChange={this.handleChange}\r\n            required\r\n          />\r\n\r\n          <button type=\"submit\">Submit</button>\r\n          <p className=\"message\">{this.state.msg}</p>\r\n          </form>\r\n          </div>\r\n        </div>\r\n      \r\n    )}\r\n  }\r\n}\r\nexport default Book\r\n"]},"metadata":{},"sourceType":"module"}
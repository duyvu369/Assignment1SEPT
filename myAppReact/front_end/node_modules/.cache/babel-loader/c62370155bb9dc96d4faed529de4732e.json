{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\VUTRANG COMPUTER\\\\Desktop\\\\onlineHospitalApp\\\\Assignment1SEPT\\\\myAppReact\\\\front_end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\VUTRANG COMPUTER\\\\Desktop\\\\onlineHospitalApp\\\\Assignment1SEPT\\\\myAppReact\\\\front_end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\VUTRANG COMPUTER\\\\Desktop\\\\onlineHospitalApp\\\\Assignment1SEPT\\\\myAppReact\\\\front_end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\VUTRANG COMPUTER\\\\Desktop\\\\onlineHospitalApp\\\\Assignment1SEPT\\\\myAppReact\\\\front_end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\VUTRANG COMPUTER\\\\Desktop\\\\onlineHospitalApp\\\\Assignment1SEPT\\\\myAppReact\\\\front_end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from'axios';import{Button}from'@material-ui/core';var Profile=/*#__PURE__*/function(_Component){_inherits(Profile,_Component);var _super=_createSuper(Profile);function Profile(){var _this;_classCallCheck(this,Profile);_this=_super.call(this);_this.state={user:{},loggedIn:false,token:'',email:\"\",name:\"\",phone:\"\",password:\"\",imgLink:\"\",position:\"\",expertise:\"\",background:\"\",msg:\"\"};_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.handleDelete=_this.handleDelete.bind(_assertThisInitialized(_this));return _this;}_createClass(Profile,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get('https://us-central1-online-clinic-booking-system.cloudfunctions.net/AyPiAI/status').then(function(res){_this2.setState({loggedIn:res.data.loggedIn,token:res.data.token});axios.get('https://us-central1-online-clinic-booking-system.cloudfunctions.net/AyPiAI/account',{headers:{'Authorization':\"\".concat(_this2.state.token)}}).then(function(res){_this2.setState({user:res.data.accountInfo,password:res.data.accountInfo.password,expertise:res.data.accountInfo.expertise,imgLink:res.data.accountInfo.imgLink,background:res.data.accountInfo.background,position:res.data.accountInfo.position,phone:res.data.accountInfo.phone});}).catch(function(error){console.log(error);}).catch(function(error){console.log(error);});});}},{key:\"handleChange\",value:function handleChange(event){this.setState({[event.target.name]:event.target.value});}},{key:\"handleDelete\",value:function handleDelete(event){var _this3=this;axios.delete('https://us-central1-online-clinic-booking-system.cloudfunctions.net/AyPiAI/account',{headers:{'Authorization':\"\".concat(this.state.token)}}).then(function(res){_this3.setState({msg:res.data.message});}).catch(function(error){console.log(error);});event.preventDefault();}},{key:\"handleSubmit\",value:function handleSubmit(event){var _this4=this;var password=this.state.password;var phone=this.state.phone;var expertise=this.state.expertise;var background=this.state.background;var imgLink=this.state.imgLink;var position=this.state.position;if(position===undefined||position!==\"Doctor\"){axios.put('https://us-central1-online-clinic-booking-system.cloudfunctions.net/AyPiAI/account',{password:password},{headers:{'Authorization':\"\".concat(this.state.token)}}).then(function(res){_this4.setState({msg:res.data.message});}).catch(function(error){console.log(error);_this4.setState({msg:\"Something went wrong! please try again!\"});});}else{axios.put('https://us-central1-online-clinic-booking-system.cloudfunctions.net/AyPiAI/account',{password:password,phone:phone,expertise:expertise,background:background,imgLink:imgLink},{headers:{'Authorization':\"\".concat(this.state.token)}}).then(function(response){if(response.status===201){_this4.setState({msg:\"Updated successfully!\"});}else{console.log(response);}}).catch(function(error){console.log(error);_this4.setState({msg:\"Something went wrong! please try again!\"});});}event.preventDefault();}},{key:\"render\",value:function render(){var loggedIn=this.state.loggedIn;var position=this.state.position;var user=this.state.user;if(!loggedIn){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h3\",null,\"You are required to logged in to use this feature!\"));}else if(loggedIn&&Object.keys(user).length==0){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h3\",null,\"Loading..... please wait!\"));}else if(loggedIn&&position===\"Doctor\"&&Object.keys(user).length!=0){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"ul\",null,/*#__PURE__*/React.createElement(\"h3\",null,\"Personal info:\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"p\",null,\"Selfie:\"),\" \",/*#__PURE__*/React.createElement(\"img\",{src:user.imgLink,width:\"400px\",height:\"400px\"}),/*#__PURE__*/React.createElement(\"p\",null,\"Email: \",user.email),/*#__PURE__*/React.createElement(\"p\",null,\"Name: \",user.name),/*#__PURE__*/React.createElement(\"p\",null,\"Phone: \",user.phone),/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.handleSubmit},\"Password: \",/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"password\",value:this.state.password,onChange:this.handleChange,placeholder:user.password}),/*#__PURE__*/React.createElement(\"br\",null),\"Img Link:\",/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"imgLink\",value:this.state.imgLink,onChange:this.handleChange,placeholder:user.imgLink}),/*#__PURE__*/React.createElement(\"br\",null),\"Expertise:\",/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"expertise\",value:this.state.expertise,onChange:this.handleChange,placeholder:user.expertise}),/*#__PURE__*/React.createElement(\"br\",null),\"Background:\",/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"background\",value:this.state.background,onChange:this.handleChange,placeholder:user.background}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\"},\"UPDATE\"),/*#__PURE__*/React.createElement(Button,{onClick:this.handleDelete},\"DELETE ACCOUNT\"),/*#__PURE__*/React.createElement(\"p\",{className:\"message\"},this.state.msg))));}else if(loggedIn&&position!==\"Doctor\"){}return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"ul\",null,/*#__PURE__*/React.createElement(\"h3\",null,\"PERSONAL INFO\"),/*#__PURE__*/React.createElement(\"p\",null,\"Email: \",user.email,\" \"),/*#__PURE__*/React.createElement(\"p\",null,\"Name: \",user.name),/*#__PURE__*/React.createElement(\"p\",null,\"Phone: \",user.phone),/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(\"br\",null),\"Password: \",/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"password\",value:this.state.password,onChange:this.handleChange,placeholder:user.password}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\"},\"UPDATE\"),/*#__PURE__*/React.createElement(Button,{onClick:this.handleDelete},\"DELETE ACCOUNT\"),/*#__PURE__*/React.createElement(\"p\",{className:\"message\"},this.state.msg))));}}]);return Profile;}(Component);export default Profile;","map":{"version":3,"sources":["C:/Users/VUTRANG COMPUTER/Desktop/onlineHospitalApp/Assignment1SEPT/myAppReact/front_end/src/page/Profile.js"],"names":["React","Component","axios","Button","Profile","state","user","loggedIn","token","email","name","phone","password","imgLink","position","expertise","background","msg","handleSubmit","bind","handleChange","handleDelete","get","then","res","setState","data","headers","accountInfo","catch","error","console","log","event","target","value","delete","message","preventDefault","undefined","put","response","status","Object","keys","length"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport axios from 'axios'\r\nimport { Button } from '@material-ui/core'\r\n\r\nclass Profile extends Component {\r\n    \r\nconstructor(){\r\n    super()\r\n    this.state = {\r\n    user: {},\r\n    loggedIn:false,\r\n    token:'',\r\n    email:\"\",\r\n    name:\"\",\r\n    phone:\"\",\r\n    password:\"\",\r\n    imgLink:\"\",\r\n    position:\"\",\r\n    expertise:\"\",\r\n    background:\"\",\r\n    msg:\"\"\r\n}\r\nthis.handleSubmit = this.handleSubmit.bind(this)\r\nthis.handleChange = this.handleChange.bind(this)\r\nthis.handleDelete = this.handleDelete.bind(this)\r\n}\r\n\r\n    \r\n\r\n\r\ncomponentDidMount(){    \r\n    axios.get('https://us-central1-online-clinic-booking-system.cloudfunctions.net/AyPiAI/status')\r\n    .then(res => {\r\n    this.setState({\r\n        loggedIn:res.data.loggedIn,\r\n        token:res.data.token\r\n    })\r\n    axios.get('https://us-central1-online-clinic-booking-system.cloudfunctions.net/AyPiAI/account',\r\n    {\r\n        headers: {\r\n            'Authorization': `${this.state.token}`}\r\n        })\r\n        .then(res=>{\r\n            this.setState({\r\n                user: res.data.accountInfo,\r\n                password:res.data.accountInfo.password,\r\n                expertise:res.data.accountInfo.expertise,\r\n                imgLink:res.data.accountInfo.imgLink,\r\n                background:res.data.accountInfo.background,\r\n                position:res.data.accountInfo.position,\r\n                phone:res.data.accountInfo.phone\r\n            })\r\n    }\r\n    )\r\n    .catch(error=>{\r\n        console.log(error)\r\n    })\r\n    .catch(error=>{\r\n        console.log(error)\r\n    })\r\n    })\r\n    }   \r\n    handleChange(event) {\r\n    this.setState({\r\n        [event.target.name]: event.target.value\r\n    })}\r\n\r\n    handleDelete(event){\r\n        axios.delete('https://us-central1-online-clinic-booking-system.cloudfunctions.net/AyPiAI/account',{\r\n            headers:{\r\n                'Authorization':`${this.state.token}`\r\n            }\r\n        })\r\n        .then(res=> {\r\n            this.setState({\r\n              msg:res.data.message\r\n            }) \r\n          }\r\n        )\r\n        .catch(error=>{\r\n            console.log(error)\r\n        })\r\n    event.preventDefault()    \r\n    }\r\n    handleSubmit(event) {\r\n        const password = this.state.password\r\n        const phone = this.state.phone\r\n        const expertise = this.state.expertise\r\n        const background = this.state.background\r\n        const imgLink = this.state.imgLink\r\n        const position = this.state.position\r\n        if(position===undefined||position!==\"Doctor\"){\r\n        axios.put('https://us-central1-online-clinic-booking-system.cloudfunctions.net/AyPiAI/account', {\r\n          password: password\r\n        },{\r\n            headers:{\r\n                'Authorization':`${this.state.token}`\r\n            }\r\n        })\r\n          .then(res=> {\r\n              this.setState({\r\n                msg:res.data.message\r\n              }) \r\n            }\r\n          )\r\n          .catch((error) => {\r\n            console.log(error)\r\n            this.setState({\r\n              msg: \"Something went wrong! please try again!\"\r\n            })\r\n          })} else {\r\n            axios.put('https://us-central1-online-clinic-booking-system.cloudfunctions.net/AyPiAI/account', {\r\n                password: password,\r\n                phone:phone,\r\n                expertise:expertise,\r\n                background:background,\r\n                imgLink:imgLink\r\n              },{\r\n                headers:{\r\n                    'Authorization':`${this.state.token}`\r\n                }\r\n            })\r\n                .then(response => {\r\n                  if(response.status===201){\r\n                    this.setState({\r\n                      msg:\"Updated successfully!\"\r\n                    }) \r\n                  }else{\r\n                    \r\n                      console.log(response)}\r\n                  }\r\n                )\r\n                .catch((error) => {\r\n                  console.log(error)\r\n                  this.setState({\r\n                    msg: \"Something went wrong! please try again!\"\r\n                  })\r\n          })}\r\n        event.preventDefault()\r\n      }\r\nrender() {\r\n        \r\n    var loggedIn = this.state.loggedIn\r\n    var position = this.state.position\r\n    var user = this.state.user\r\n    if(!loggedIn){\r\n      return <div><h3>You are required to logged in to use this feature!</h3></div>\r\n    }\r\n    else if(loggedIn &&  Object.keys(user).length==0 ){\r\n        return <div><h3>Loading..... please wait!</h3></div>\r\n    } else if(loggedIn && position ===\"Doctor\" &&Object.keys(user).length!=0) {\r\n        return <div >\r\n        \r\n                <ul>\r\n            \r\n                    <h3>Personal info:</h3>\r\n                    <br></br>\r\n                    <p>Selfie:</p> <img src={user.imgLink} width=\"400px\" height=\"400px\"></img>\r\n                    <p>Email: {user.email}</p>  \r\n                    <p>Name: {user.name}</p>\r\n                    <p>Phone: {user.phone}</p>\r\n                    <form onSubmit={this.handleSubmit} >\r\n                \r\n                    Password: <input type=\"text\"\r\n                            name=\"password\"\r\n                            value={this.state.password}\r\n                            onChange={this.handleChange}\r\n                            placeholder={user.password}/>\r\n                    <br></br>\r\n                    Img Link:<input type=\"text\"\r\n                            name=\"imgLink\"\r\n                            value={this.state.imgLink}\r\n                            onChange={this.handleChange}\r\n                            placeholder={user.imgLink}/>\r\n                    <br></br>\r\n                    Expertise:<input type=\"text\"\r\n                            name=\"expertise\"\r\n                            value={this.state.expertise}\r\n                            onChange={this.handleChange}\r\n                            placeholder={user.expertise}/>\r\n                    <br></br>\r\n                    Background:<input type=\"text\"\r\n                            name=\"background\"\r\n                            value={this.state.background}\r\n                            onChange={this.handleChange}\r\n                            placeholder={user.background}/>\r\n                    <br></br>\r\n                    <button type=\"submit\">UPDATE</button>\r\n                    <Button onClick={this.handleDelete}>DELETE ACCOUNT</Button>\r\n                    <p className=\"message\">{this.state.msg}</p>\r\n                    </form>\r\n\r\n\r\n            \r\n                </ul>\r\n            </div>\r\n    }\r\n    else if (loggedIn && position!==\"Doctor\"){}\r\n        return <div >\r\n            \r\n                <ul>\r\n                \r\n                    <h3>PERSONAL INFO</h3>\r\n                    <p>Email: {user.email} </p>\r\n                    <p>Name: {user.name}</p>\r\n                    <p>Phone: {user.phone}</p>\r\n                    <form onSubmit={this.handleSubmit} > \r\n                    \r\n                    <br></br>\r\n                    Password: <input type=\"text\"\r\n                            name=\"password\"\r\n                            value={this.state.password}\r\n                            onChange={this.handleChange}\r\n                            placeholder={user.password}\r\n                            />\r\n                    <br></br>\r\n                    <button type=\"submit\">UPDATE</button>\r\n                    <Button onClick={this.handleDelete}>DELETE ACCOUNT</Button>\r\n                    <p className=\"message\">{this.state.msg}</p>\r\n                    </form>\r\n                    \r\n                \r\n                </ul>\r\n        </div>\r\n    }\r\n    }\r\n\r\nexport default Profile"]},"metadata":{},"sourceType":"module"}